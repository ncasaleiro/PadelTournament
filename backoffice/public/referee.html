<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Referee Tool - Padel Tournament</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .referee-page {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem;
        }

        .referee-header {
            background: var(--card-bg);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .match-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .match-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .referee-main {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        @media (max-width: 768px) {
            .referee-main {
                grid-template-columns: 1fr;
            }
        }

        .scoreboard-card {
            background: var(--card-bg);
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .scoreboard-header {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 1.5fr;
            gap: 0.5rem;
            padding: 1rem;
            background: var(--bg-color);
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .scoreboard-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 1.5fr;
            gap: 0.5rem;
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .scoreboard-row:last-child {
            border-bottom: none;
        }

        .team-name {
            font-weight: 600;
        }

        .set-score {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .game-score {
            text-align: center;
            font-size: 1.25rem;
            font-weight: 600;
        }

        .quick-actions {
            background: var(--card-bg);
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .quick-actions h3 {
            margin-bottom: 1rem;
            font-size: 1.125rem;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .action-btn {
            padding: 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 1.125rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .action-btn:active {
            transform: translateY(0);
        }

        .btn-point-team-a {
            background: #3b82f6;
            color: white;
        }

        .btn-point-team-b {
            background: #10b981;
            color: white;
        }

        .btn-fault {
            background: #f59e0b;
            color: white;
        }

        .btn-let {
            background: #8b5cf6;
            color: white;
        }

        .btn-undo {
            background: var(--secondary-color);
            color: white;
        }

        .events-panel {
            background: var(--card-bg);
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            max-height: 400px;
            overflow-y: auto;
        }

        .events-panel h3 {
            margin-bottom: 1rem;
            font-size: 1.125rem;
        }

        .event-item {
            padding: 0.75rem;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.875rem;
        }

        .event-item:last-child {
            border-bottom: none;
        }

        .event-time {
            color: var(--text-secondary);
            font-size: 0.75rem;
        }

        .event-description {
            margin-top: 0.25rem;
        }

        .referee-notes {
            background: var(--card-bg);
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .referee-notes textarea {
            width: 100%;
            min-height: 100px;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 0.375rem;
            font-family: inherit;
            font-size: 0.875rem;
        }

        .discipline-panel {
            background: var(--card-bg);
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .discipline-form {
            display: grid;
            gap: 1rem;
        }

        .discipline-btn {
            padding: 0.75rem 1rem;
            border: none;
            border-radius: 0.375rem;
            font-weight: 600;
            cursor: pointer;
        }

        .btn-warning {
            background: #fbbf24;
            color: white;
        }

        .btn-penalty {
            background: #f59e0b;
            color: white;
        }

        .btn-disqualify {
            background: var(--danger-color);
            color: white;
        }

        .match-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1.5rem;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 1rem;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-playing {
            background: #fef3c7;
            color: #92400e;
        }
    </style>
</head>
<body>
    <div class="referee-page">
        <a href="index.html" class="back-link">‚Üê Voltar</a>
        
        <div class="referee-header">
            <div class="match-title" id="match-title">Carregando...</div>
            <div class="match-meta">
                <span id="match-category"></span>
                <span id="match-date"></span>
                <span id="match-time"></span>
                <span id="match-court"></span>
                <span class="status-badge status-playing" id="match-status">-</span>
            </div>
        </div>

        <div class="referee-main">
            <!-- Scoreboard -->
            <div class="scoreboard-card">
                <h3 style="margin-bottom: 1rem;">Scoreboard</h3>
                <div class="scoreboard-header">
                    <span></span>
                    <span>Set 1</span>
                    <span>Set 2</span>
                    <span>Set 3</span>
                    <span id="current-label">Jogo</span>
                </div>
                <div class="scoreboard-row">
                    <span class="team-name" id="team-a-name">Equipa A</span>
                    <span class="set-score" id="set-a-1">-</span>
                    <span class="set-score" id="set-a-2">-</span>
                    <span class="set-score" id="set-a-3">-</span>
                    <span class="game-score" id="game-a">0</span>
                </div>
                <div class="scoreboard-row">
                    <span class="team-name" id="team-b-name">Equipa B</span>
                    <span class="set-score" id="set-b-1">-</span>
                    <span class="set-score" id="set-b-2">-</span>
                    <span class="set-score" id="set-b-3">-</span>
                    <span class="game-score" id="game-b">0</span>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <h3>Quick Actions</h3>
                <div class="action-buttons">
                    <button class="action-btn btn-point-team-a" onclick="recordPoint('A')">
                        <span>üéæ</span>
                        <span id="team-a-btn">Equipa A</span>
                        <span>Ponto</span>
                    </button>
                    <button class="action-btn btn-point-team-b" onclick="recordPoint('B')">
                        <span>üéæ</span>
                        <span id="team-b-btn">Equipa B</span>
                        <span>Ponto</span>
                    </button>
                    <button class="action-btn btn-fault" onclick="recordFault()">
                        <span>‚ö†Ô∏è</span>
                        <span>Falta</span>
                    </button>
                    <button class="action-btn btn-let" onclick="recordLet()">
                        <span>üîÑ</span>
                        <span>Let</span>
                    </button>
                    <button class="action-btn btn-undo" onclick="undoLastAction()">
                        <span>‚Ü©Ô∏è</span>
                        <span>Desfazer</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="referee-main">
            <!-- Events Log -->
            <div class="events-panel">
                <h3>Eventos do Jogo</h3>
                <div id="events-list"></div>
            </div>

            <!-- Discipline Panel -->
            <div class="discipline-panel">
                <h3>Disciplina</h3>
                <div class="discipline-form">
                    <select id="discipline-team" class="form-group">
                        <option value="">Selecione equipa...</option>
                        <option value="A">Equipa A</option>
                        <option value="B">Equipa B</option>
                    </select>
                    <button class="discipline-btn btn-warning" onclick="recordDiscipline('warning')">
                        ‚ö†Ô∏è Aviso
                    </button>
                    <button class="discipline-btn btn-penalty" onclick="recordDiscipline('penalty')">
                        üü° Penalidade
                    </button>
                    <button class="discipline-btn btn-disqualify" onclick="recordDiscipline('disqualification')">
                        üî¥ Desqualifica√ß√£o
                    </button>
                </div>
            </div>
        </div>

        <!-- Referee Notes -->
        <div class="referee-notes">
            <h3>Notas do √Årbitro</h3>
            <textarea id="referee-notes" placeholder="Adicione notas sobre o jogo, incidentes, viola√ß√µes de regras, etc..." onchange="saveNotes()"></textarea>
        </div>

        <!-- Match Actions -->
        <div class="match-actions">
            <button class="btn btn-secondary" onclick="window.location.href='index.html'">Voltar</button>
            <button class="btn btn-primary" id="start-btn" onclick="startMatch()" style="display: none;">Iniciar Jogo</button>
            <button class="btn btn-danger" id="finish-btn" onclick="finishMatch()" style="display: none;">Finalizar Jogo</button>
        </div>
    </div>

    <script src="referee.js"></script>
</body>
</html>





